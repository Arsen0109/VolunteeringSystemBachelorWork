package com.example.VolunteerWebApp.service;

import com.example.VolunteerWebApp.entity.ParsedPost;
import com.example.VolunteerWebApp.DTO.ParsedPostModel;
import com.example.VolunteerWebApp.exception.VolunteeringSystemException;
import com.example.VolunteerWebApp.repository.ParsedPostRepository;
import jakarta.transaction.Transactional;
import lombok.AllArgsConstructor;
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.jsoup.select.Elements;
import org.springframework.stereotype.Service;

import java.io.IOException;
import java.util.ArrayList;
import java.util.List;
import java.util.stream.Collectors;

@Service
@AllArgsConstructor
public class ParsedPostService {

    private final ParsedPostRepository parsedPostRepository;

    public List<ParsedPostModel> getPritulaFundraisers() throws IOException {
        String pritulaFoundationURL = "https://prytulafoundation.org";
        List<ParsedPostModel> fundraisersList = new ArrayList<>();
        Document document = Jsoup.connect(pritulaFoundationURL).get();
        Elements armyFundraisers = document.select("div.directions-card");
        for (Element element : armyFundraisers) {
            ParsedPostModel parsedPost = ParsedPostModel.builder()
                    .url(pritulaFoundationURL +
                            element.select("a.directions-card__img").first().attribute("href").getValue())
                    .postName(element.select("h3.directions-card__title").first().text())
                    .description(element.select("div.directions-card__description > p").text())
                    .platformName("Pritula")
                    .iconUrl("data:image/png;base64,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")
                    .build();
            fundraisersList.add(parsedPost);
        }
        return fundraisersList;
    }

    public List<ParsedPostModel> getPovernisZhyvymFundraisers() throws IOException {
        String foundationUrl = "https://savelife.in.ua/projects/";
        List<ParsedPostModel> fundraisersList = new ArrayList<>();
        Document document = Jsoup.connect(foundationUrl).get();
        for (Element post : document.select("div.project-wrapper")){
            ParsedPostModel parsedPostModel = ParsedPostModel.builder()
                    .url(post.select("a.project-link").attr("href"))
                    .postName(post.select("h3.link-click").text())
                    .description(post.select("section.content > p").text())
                    .platformName("Return Alive")
                    .iconUrl("data:image/png;base64,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")
                    .build();
            fundraisersList.add(parsedPostModel);
        }

        return fundraisersList;
    }

    public List<ParsedPostModel> getUnited24Fundraisers() throws IOException {
        String foundationUrl = "https://u24.gov.ua/uk/projects";
        List<ParsedPostModel> fundraisersList = new ArrayList<>();
        Document document = Jsoup.connect(foundationUrl).get();
        for (Element post : document.select("div.item-wrapper.ng-star-inserted")){
            ParsedPostModel parsedPostModel = ParsedPostModel.builder()
                    .url("https://u24.gov.ua" + post.select("a.ng-star-inserted").attr("href"))
                    .postName(post.select("a.ng-star-inserted").text())
                    .description(post.select("div.text").text())
                    .platformName("United24")
                    .iconUrl("data:image/jpeg;base64,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")
                    .build();
            fundraisersList.add(parsedPostModel);
        }
        return fundraisersList;
    }

    public List<ParsedPostModel> getKSEFundraisers() throws IOException {
        String foundationUrl = "https://foundation.kse.ua/projects/";
        List<ParsedPostModel> fundraisersList = new ArrayList<>();
        Document document = Jsoup.connect(foundationUrl).get();
        for (Element post : document.select("div.columns_wrap")){
            ParsedPostModel parsedPostModel = ParsedPostModel.builder()
                    .url(post.select("div.columns_wrap__left > a").attr("href"))
                    .postName(post.select("h2.ttl-h3").text())
                    .platformName("KSE")
                    .iconUrl("data:image/png;base64,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")
                    .build();
            fundraisersList.add(parsedPostModel);
        }
        return fundraisersList;
    }
    public List<ParsedPostModel> getNovaUkraineFundraisers() throws IOException {
        String foundationUrl = "https://novaukraine.org/project-category/current-projects/";
        List<ParsedPostModel> fundraisersList = new ArrayList<>();
        Document document = Jsoup.connect(foundationUrl).get();
        for (Element post : document.select("article.layout__cards__card")){
            ParsedPostModel parsedPostModel = ParsedPostModel.builder()
                    .url(post.select("a.learn__more").attr("href"))
                    .postName(post.select("h2.entry-title > a").text())
                    .description(post.select("div.entry-content > p").text())
                    .platformName("Nova Ukraine")
                    .iconUrl("data:image/png;base64,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")
                    .build();
            fundraisersList.add(parsedPostModel);
        }
        return fundraisersList;
    }
    private ParsedPost mapParsedPostModelToParsedPostEntity(ParsedPostModel parsedPostModel) {
        return ParsedPost.builder()
                .postName(parsedPostModel.getPostName())
                .description(parsedPostModel.getDescription())
                .url(parsedPostModel.getUrl())
                .platformName(parsedPostModel.getPlatformName())
                .iconUrl(parsedPostModel.getIconUrl())
                .build();
    }

    @Transactional
    public List<ParsedPost> refreshParsedPosts() throws IOException {
        parsedPostRepository.deleteAll();
        List<ParsedPostModel> allPosts = getPritulaFundraisers();
        allPosts.addAll(getPovernisZhyvymFundraisers());
        allPosts.addAll(getUnited24Fundraisers());
        allPosts.addAll(getKSEFundraisers());
        allPosts.addAll(getNovaUkraineFundraisers());
        return parsedPostRepository.saveAll(allPosts.stream()
                .map(this::mapParsedPostModelToParsedPostEntity)
                .collect(Collectors.toList()));
    }

    @Transactional
    public List<ParsedPost> getAllParsedPosts() {
        return parsedPostRepository.findAll();
    }

    @Transactional
    public ParsedPost getParsedPost(Long postId) {
        return parsedPostRepository.findByPostId(postId)
                .orElseThrow(() -> new VolunteeringSystemException("Error post with id: " + postId + " not found!"));
    }

    @Transactional
    public ParsedPost updateParsedPost(Long postId, ParsedPostModel parsedPostModel) {
        ParsedPost parsedPost =  getParsedPost(postId);
        parsedPost.setPostName(parsedPostModel.getPostName());
        parsedPost.setUrl(parsedPostModel.getUrl());
        parsedPost.setDescription(parsedPostModel.getDescription());
        parsedPost.setIconUrl(parsedPostModel.getIconUrl());
        parsedPost.setPlatformName(parsedPostModel.getPlatformName());
        return parsedPostRepository.save(parsedPost);
    }

    @Transactional
    public ParsedPost deleteParsedPost(Long postId) {
        ParsedPost parsedPost = getParsedPost(postId);
        parsedPostRepository.delete(parsedPost);
        return parsedPost;
    }
}
